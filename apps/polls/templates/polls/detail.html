{% extends "base.html" %}

{% block content %}
<div class="card">
    <div class="card-header">
        <h3 class="card-title">{{ question.question_text }}</h3>
    </div>
    
    <div class="card-body">
        {% if error_message %}
            <div class="alert alert-danger d-flex align-items-center p-5 mb-5">
                <span class="svg-icon svg-icon-2hx svg-icon-danger me-4">...</span> <div class="d-flex flex-column">
                    <h4 class="mb-1 text-danger">Error</h4>
                    <span>{{ error_message }}</span>
                </div>
            </div>
        {% endif %}

        <form action="{% url 'polls:vote' question.id %}" method="post">
            {% csrf_token %}
            
            <div class="mb-10">
                <label class="form-label fw-bold mb-4">Pilih jawaban Anda:</label>
                
                {% for choice in question.choice_set.all %}
                <div class="form-check form-check-custom form-check-solid mb-5">
                    <input class="form-check-input" type="radio" name="choice" id="choice{{ forloop.counter }}" value="{{ choice.id }}" />
                    <label class="form-check-label fw-semibold text-gray-700" for="choice{{ forloop.counter }}">
                        {{ choice.choice_text }}
                    </label>
                </div>
                {% endfor %}
            </div>

            <div class="d-flex justify-content-end">
                <a href="{% url 'polls:index' %}" class="btn btn-light me-3">Kembali</a>
                <button type="submit" class="btn btn-primary">
                    <span class="indicator-label">Vote Sekarang</span>
                </button>
            </div>
        </form>
    </div>
</div>
{% endblock %}